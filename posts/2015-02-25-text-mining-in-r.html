<!DOCTYPE html>
<html lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    
    <title>Text Mining in R (Sentiment Analysis, LDA, and Syuzhet)</title>
    <link rel="stylesheet" type="text/css" href="../css/bootstrap-readable.min.css" />
    <link rel="stylesheet" type="text/css" href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" />
    <link rel="stylesheet" type="text/css" href="../css/default.css" />
    <link rel="stylesheet" type="text/css" href="../css/syntax.css" />
    <link rel="stylesheet" type="text/css" href="//vjs.zencdn.net/4.12/video-js.css" />

    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});
    </script>
  </head>
  <body>
    <div class="container">
      <div class="header row">
        <h3><a class="text-muted col-sm-8" href="../">begriffs</a></h3>

        <ul class="col-sm-4 list-inline">
          <li><a class="text-muted" href="../about.html"><i class="fa fa-info-circle"></i></a></li>
          <li><a class="text-muted" href="http://github.com/begriffs"><i class="fa fa-github"></i></a></li>
          <li><a class="text-muted" href="http://twitter.com/begriffs"><i class="fa fa-twitter"></i></a></li>
          <li><a class="text-muted" href="../atom.xml"><i class="fa fa-rss"></i></a></li>
        </ul>
      </div>

      <div class="post-header">
  <h3>Text Mining in R (Sentiment Analysis, LDA, and Syuzhet)</h3>
  <a href="https://twitter.com/share" class="twitter-share-button pull-right" data-via="begriffs" data-count="none">Tweet</a>
  <h5 class="text-muted">February 25, 2015</h5>
</div>

<div class="content">
  <p><a href="https://www.linkedin.com/pub/harold-baize/4/480/529">Harold Baize</a>, researcher at the <a href="https://www.sfdph.org/dph/default.asp">San Francisco Department of Public Health</a> shows how to use the latest <a href="http://www.r-project.org/">R</a> packages to analyze sentiments and topics in text. He gives a demo of using mental health provider notes to assess the effectiveness of treatments. Along the way he shows how disciplines from psychology to literary analysis have pioneered the practices labeled under the umbrella of “text mining.”</p>
<video poster="https://i.vimeocdn.com/video/508549850.jpg?mw=700" class="video-js vjs-default-skin" controls preload="auto">
<source src="http://player.vimeo.com/external/120614691.hd.mp4?s=d86271a555347fc538b2084083ef16bf" type="video/mp4">
</video>
<h3 id="summary">Summary</h3>
<ul>
<li>Origins of “text mining” in the “content analysis” of psychology</li>
<li>We’ll be looking at sentiment analysis of content modeling</li>
<li>Both are bag-of-words approaches</li>
<li>Facebook’s quasi-unethical emotion manipulation experiment using sentiment analysis</li>
<li>Great R packages: tm, topicmodels, LDAvis, syzuhet</li>
<li>Definition of terms used</li>
<li>Doing some actual text mining
<ul>
<li>Begin with a document term matrix</li>
<li>Built using “controls” like stop words, stemming etc</li>
<li>Then merge the term matrix with the lexicon of emotional values</li>
<li>There are some common sentiment lexicons ready made: ANEW, Afinn</li>
</ul></li>
<li>Sentiment analysis can go beyond merely positive/negative
<ul>
<li>We can record the holder, target, sentiment, polarity, and source of a corpus</li>
</ul></li>
<li>Beware that bag-of-words approach misses things like sarcasm, double entendre and negation</li>
<li>A walkthrough of analyzing the sentiment of a psychological health review shows sometimes we need to modify an off the shelf lexicon.</li>
<li>Comparing sentiment in this study
<ul>
<li>Visualizing sentiment scores on psych progress notes to compare different hospitals</li>
<li>Different ethnicities show show differences in positivity</li>
<li>Also little kids/toddlers are way more optimistic, then get steadily more negative toward middle age. Finally above age 60 people tend to get positive again, at the level of 5-12 year olds.</li>
</ul></li>
<li>Predictions using sentiment data</li>
<li>Topic modeling
<ul>
<li>An unsupervised method to find latent topics</li>
<li>LDA (latent dirichlet allocation) is a popular form of topic modeling</li>
<li>It returns the probability that each word is found in each topic</li>
<li>We can visualize the results with LDAvis</li>
</ul></li>
<li>Example of doing LDA
<ul>
<li>Configure params like burn-in, iterations, number of topics, method of sampling and how frequently to keep samples</li>
<li>Sometimes the topics are difficult to interpret, and this can be exacerbated by poor data cleaning</li>
</ul></li>
<li>Demo of exploring the output of LDA
<ul>
<li>Adjusting relevance vs frequency in corpus or topic</li>
<li>The results are probabilistic, so each run produces different topics, but some of them persist</li>
</ul></li>
<li>Predicting topics
<ul>
<li>For instance a linear model reveals topics associated with newcomers to psychiatry vs old timers</li>
</ul></li>
<li>Concepts from literary analysis have been encoded into algorithms to help us understand a story
<ul>
<li>syuzhet vs fabula</li>
<li>A video that demonstrates the syuzhet of fictional story arcs</li>
</ul></li>
<li>Applying the syuzhet library in R
<ul>
<li>The Canadian National Research Council has created a rich measure of syuzhet along ten dimension of emotion, so you can watch e.g. disgust or anticipation change over time</li>
</ul></li>
<li>There is also a supervised version of LDA (SLDA) but it is not covered in this talk</li>
</ul>
</div>

    </div>

    <script src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML"></script>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
    <script src="//vjs.zencdn.net/4.12/video.js"></script>
    <!-- Aww yiss, obsessively watching my numbers! -->
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-49573102-1', 'begriffs.com');
      ga('send', 'pageview');
    </script>

    <footer class="container">
      <p>I'm begriffs, journeying from web ephemera to the timeless world of data. <a href="mailto:joe@begriffs.com" role="button">Contact me.</a></p>
    </footer>
  </body>
</html>
