<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Unlocking Deep HTTP with JavaScript, pt 1</title>
    <link rel="stylesheet" type="text/css" href="../css/bootstrap-readable.min.css" />
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet" />
    <link rel="stylesheet" type="text/css" href="../css/default.css" />
    <link rel="stylesheet" type="text/css" href="../css/syntax.css" />

    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});
    </script>
    <script src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML"></script>
  </head>
  <body>
    <div class="container">
      <div class="header row">
        <h3><a class="text-muted col-sm-8" href="../">begriffs</a></h3>

        <ul class="col-sm-4 list-inline">
          <li><a class="text-muted" href="../about.html"><i class="fa fa-info-circle"></i></a></li>
          <li><a class="text-muted" href="http://github.com/begriffs"><i class="fa fa-github"></i></a></li>
          <li><a class="text-muted" href="http://twitter.com/begriffs"><i class="fa fa-twitter"></i></a></li>
          <li><a class="text-muted" href="../atom.xml"><i class="fa fa-rss"></i></a></li>
        </ul>
      </div>

      <div class="post-header">
  <h3>Unlocking Deep HTTP with JavaScript, pt 1</h3>
  <a href="https://twitter.com/share" class="twitter-share-button pull-right" data-via="begriffs" data-count="none">Tweet</a>
  <h5 class="text-muted">December 31, 2013</h5>
</div>

<div class="content">
  <p>When rich JavaScript apps first started getting popular a few years ago, it honestly took me a while to catch on. I mistakenly thought it was primarily an optimization of page load times, a technique that sacrificed simplicity and forced developers to reinvent mature technology like browser page-history.</p>
<p>I was wrong — I think client side apps provide a better developer experience fundamental ways. The design of server-side apps is built around historical browser limitations.</p>
<p>HTTP begin in 1991 as a simple protocol. It had one (idempotent) method, <code>GET</code>. You would use it to get documents over TCP. The essentially modern <a href="https://tools.ietf.org/html/rfc2068">Version 1.1</a> was standardized at the beginning of 1997. Those were the days of Internet Explorer 2. Compared with the foresight and subtlety of HTTP 1.1 these browsers were quite primitive.</p>
<p>Browser technology improved slowly, and during this time we developers were getting accustomed to the status quo. But let’s stop and think of how little a vanilla (non JavaScript) page can do. It can basically do three things.</p>
<p>First thing: primitive transitions. The page can link to another page with a <code>GET</code> request. This link can control only the protocol, URL and query string. No headers beyond server-set cookies, and no other methods. The page can <code>POST</code> content type <code>application/x-www-form-urlencoded</code> using forms.</p>
<p>Second: when a new page loads, the browser can show it, or redirect. Until relatively recently some browsers failed even to handle all the redirect codes like 303. Forget reacting appropriately to HTTP status codes. Browsers neglected actions for some status codes, like refreshing the page on 503 (service unavailable) errors according to the <code>Retry-After</code> header. Browsers just load the page and wait.</p>
<p>Third: caching. With the slow dial-up connections of those days people pretty much had to get this one working. Of course there were plenty of quirks.</p>
<p>Enter XMLHTTPRequest. Looking back, this may be the most significant feature added to the browser, because it frees JavaScript from the default browser behavior. It was 2006 before this feature was widespread enough to really use. Whereas previously you could only set <code>document.location</code> for a blunt dynamic hyperlink, after the introduction of XMLHTTPRequest you could react to HTTP status codes, and read/write headers. You could fundamentally script the browsing experience.</p>
<p>But to me at least this power didn’t really sink in. A link is a link, right? A form is a form. I guess this Ajax thing is just for updating little parts of the page… My experience prevented me from thinking outside these conventions. In the next two blog posts I’m going to help you reimagine the possibilities for the way modern client-side apps interact with the server over HTTP. We’ll use pagination as a case study.</p>
<p>In the next post I’ll discuss a way to do server-side pagination . Hint, there won’t be any <code>&quot;?page=2&quot;</code> nonsense. In the post after that I’ll walk you through a way to extend AngularJS’s $resource service to automatically accommodate pagination by using HTTP to negotiate with the server.</p>
</div>

<div id="disqus_thread"></div>
<script type="text/javascript">
  var disqus_shortname = 'begriffs';

  (function() {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>

    </div>

    <script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
    <!-- Aww yiss, obsessively watching my numbers! -->
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-49573102-1', 'begriffs.com');
      ga('send', 'pageview');
    </script>
  </body>
</html>
